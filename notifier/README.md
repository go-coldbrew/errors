<!-- Code generated by gomarkdoc. DO NOT EDIT -->

[![GoDoc](https://img.shields.io/badge/pkg.go.dev-doc-blue)](http://pkg.go.dev/github.com/go-coldbrew/errors)

# notifier

```go
import "github.com/go-coldbrew/errors/notifier"
```

## Index

- [func Close()](<#func-close>)
- [func GetTraceHeaderName() string](<#func-gettraceheadername>)
- [func GetTraceId(ctx context.Context) string](<#func-gettraceid>)
- [func InitAirbrake(projectID int64, projectKey string)](<#func-initairbrake>)
- [func InitRollbar(token, env string)](<#func-initrollbar>)
- [func InitSentry(dsn string)](<#func-initsentry>)
- [func Notify(err error, rawData ...interface{}) error](<#func-notify>)
- [func NotifyOnPanic(rawData ...interface{})](<#func-notifyonpanic>)
- [func NotifyWithExclude(err error, rawData ...interface{}) error](<#func-notifywithexclude>)
- [func NotifyWithLevel(err error, level string, rawData ...interface{}) error](<#func-notifywithlevel>)
- [func NotifyWithLevelAndSkip(err error, skip int, level string, rawData ...interface{}) error](<#func-notifywithlevelandskip>)
- [func SetEnvironment(env string)](<#func-setenvironment>)
- [func SetHostname(name string)](<#func-sethostname>)
- [func SetRelease(rel string)](<#func-setrelease>)
- [func SetServerRoot(path string)](<#func-setserverroot>)
- [func SetTraceHeaderName(name string)](<#func-settraceheadername>)
- [func SetTraceId(ctx context.Context) context.Context](<#func-settraceid>)
- [func UpdateTraceId(ctx context.Context, traceID string) context.Context](<#func-updatetraceid>)
- [type Tags](<#type-tags>)


## func [Close](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L376>)

```go
func Close()
```

Close closes the airbrake notifier and flushes the error queue. You should call Close before app shutdown. Close doesn't call os.Exit.

## func [GetTraceHeaderName](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L44>)

```go
func GetTraceHeaderName() string
```

GetTraceHeaderName gets the header name for trace id default is x\-trace\-id

## func [GetTraceId](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L433>)

```go
func GetTraceId(ctx context.Context) string
```

GetTraceId fetches traceID from context if no trace id is found then it will return empty string

## func [InitAirbrake](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L64>)

```go
func InitAirbrake(projectID int64, projectKey string)
```

InitAirbrake inits airbrake configuration projectID: airbrake project id projectKey: airbrake project key

## func [InitRollbar](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L71>)

```go
func InitRollbar(token, env string)
```

InitRollbar inits rollbar configuration token: rollbar token env: rollbar environment

## func [InitSentry](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L79>)

```go
func InitSentry(dsn string)
```

InitSentry inits sentry configuration dsn: sentry dsn

## func [Notify](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L166>)

```go
func Notify(err error, rawData ...interface{}) error
```

Notify notifies error to airbrake, rollbar and sentry if they are inited and error is not ignored err: error to notify rawData: extra data to notify with error \(can be context.Context, Tags, or any other data\) when rawData is context.Context, it will used to get extra data from loggers.FromContext\(ctx\) and tags from metadata

## func [NotifyOnPanic](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L332>)

```go
func NotifyOnPanic(rawData ...interface{})
```

NotifyOnPanic notifies error to airbrake, rollbar and sentry if they are inited and error is not ignored rawData: extra data to notify with error \(can be context.Context, Tags, or any other data\) when rawData is context.Context, it will used to get extra data from loggers.FromContext\(ctx\) and tags from metadata this function should be called in defer example: defer NotifyOnPanic\(ctx, "some data"\) example: defer NotifyOnPanic\(ctx, "some data", Tags\{"tag1": "value1"\}\)

## func [NotifyWithExclude](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L301>)

```go
func NotifyWithExclude(err error, rawData ...interface{}) error
```

NotifyWithExclude notifies error to airbrake, rollbar and sentry if they are inited and error is not ignored err: error to notify rawData: extra data to notify with error \(can be context.Context, Tags, or any other data\) when rawData is context.Context, it will used to get extra data from loggers.FromContext\(ctx\) and tags from metadata

## func [NotifyWithLevel](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L175>)

```go
func NotifyWithLevel(err error, level string, rawData ...interface{}) error
```

NotifyWithLevel notifies error to airbrake, rollbar and sentry if they are inited and error is not ignored err: error to notify level: error level rawData: extra data to notify with error \(can be context.Context, Tags, or any other data\) when rawData is context.Context, it will used to get extra data from loggers.FromContext\(ctx\) and tags from metadata

## func [NotifyWithLevelAndSkip](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L185>)

```go
func NotifyWithLevelAndSkip(err error, skip int, level string, rawData ...interface{}) error
```

NotifyWithLevelAndSkip notifies error to airbrake, rollbar and sentry if they are inited and error is not ignored err: error to notify skip: skip stack frames when notify error level: error level rawData: extra data to notify with error \(can be context.Context, Tags, or any other data\) when rawData is context.Context, it will used to get extra data from loggers.FromContext\(ctx\) and tags from metadata

## func [SetEnvironment](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L384>)

```go
func SetEnvironment(env string)
```

SetEnvironment sets the environment. The environment is used to distinguish errors occurring in different

## func [SetHostname](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L469>)

```go
func SetHostname(name string)
```

SetHostname sets the hostname of the server. The hostname is used to identify the server that logged an error.

## func [SetRelease](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L397>)

```go
func SetRelease(rel string)
```

SetRelease sets the release tag. The release tag is used to group errors together by release.

## func [SetServerRoot](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L463>)

```go
func SetServerRoot(path string)
```

SetServerRoot sets the root directory of the project. The root directory is used to trim prefixes from filenames in stack traces.

## func [SetTraceHeaderName](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L38>)

```go
func SetTraceHeaderName(name string)
```

SetTraceHeaderName sets the header name for trace id default is x\-trace\-id

## func [SetTraceId](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L404>)

```go
func SetTraceId(ctx context.Context) context.Context
```

SetTraceId updates the traceID based on context values if no trace id is found then it will create one and update the context You should use the context returned by this function instead of the one passed

## func [UpdateTraceId](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L453>)

```go
func UpdateTraceId(ctx context.Context, traceID string) context.Context
```

UpdateTraceId force updates the traced id to provided id if no trace id is found then it will create one and update the context You should use the context returned by this function instead of the one passed

## type [Tags](<https://github.com/go-coldbrew/errors/blob/main/notifier/notifier.go#L53>)

```go
type Tags map[string]string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
